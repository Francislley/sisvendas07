{% extends 'base.html' %}

{% block content %}
	<h1>Lista de Vendas</h1>

		<div class="pull-right">
			<p name="filter_sale_zero"><a href="?filter_sale_zero=1">Vendas sem itens</a></p>			
			<p name="filter_sale_one"><a href="?filter_sale_one=1">Vendas com um item</a></p>			
		</div>

			<button id="new_sale" type="button" class="btn btn-default">
				<span class="glyphicon glyphicon-plus"></span>
				<a href="{% url 'sale_create' %}"> Nova venda</a>
			</button>

		<div>
			<table class="table">
				<thead>
					<tr>
						<th>CÃ³digo</th>
						<th>Cliente</th>
						<th>Data da venda</th>
						<th class="text-center">Itens</th>
						<th class="text-right">Total</th>
					</tr>
				</thead>
				<tbody>
				{% for sale in object_list %}
					{% if sale.get_itens == 0 %}
						<tr class="danger">
					{% elif sale.get_itens == 1 %}
						<tr class="info">
					{% else %}
						<tr>
					{% endif %}
							<td>{{ sale.codigo }}</td>
							<td><a href="{{ sale.get_detalhe }}">{{ sale.customer }}</a></td>
							<td>{{ sale.date_sale }}</td>
							<td class="text-center">{{ sale.get_itens }}</td>
							<td class="text-right">{{ sale.get_total }}</td>
						</tr>
				{% empty %}
					<p>Sem itens na lista.</p>
				{% endfor %}
				</tbody>
			</table>
		</div>
		<div>
			<h3><b>Total:</b> {{ count }}
				{% if count <= 1 %}
					venda
				{% else %}
					vendas
				{% endif %}
			</h3>
		</div>

<!-- pagination -->
{% include "_pagination.html" %}

{% endblock content %}